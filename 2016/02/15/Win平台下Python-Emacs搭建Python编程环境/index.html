<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Win平台下Python+Emacs搭建Python编程环境 | SWBetaWiKi</title>
  <meta name="author" content="SWBeta">
  
  <meta name="description" content="Writing 1000 Words a Week Changed My Life.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Win平台下Python+Emacs搭建Python编程环境"/>
  <meta property="og:site_name" content="SWBetaWiKi"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="SWBetaWiKi" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">SWBetaWiKi</a><span class="split"></span><span class="title">Win平台下Python+Emacs搭建Python编程环境</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2016-02-15</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  <div class="col-xs-12 col-sm-3 col-md-3 toc"> 
	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script>
  </div><!-- col-md-3 -->
  
  

  
  <div class="col-xs-12 col-sm-9 col-md-9 note">
	

	  <!-- content -->
	  <h1 id="Win_u5E73_u53F0_u4E0BPython+Emacs_u642D_u5EFAPython_u7F16_u7A0B_u73AF_u5883"><a href="#Win_u5E73_u53F0_u4E0BPython+Emacs_u642D_u5EFAPython_u7F16_u7A0B_u73AF_u5883" class="headerlink" title="Win平台下Python+Emacs搭建Python编程环境"></a>Win平台下Python+Emacs搭建Python编程环境</h1><h2 id="u6240_u9700_u5DE5_u5177"><a href="#u6240_u9700_u5DE5_u5177" class="headerlink" title="所需工具"></a>所需工具</h2><ul>
<li><a href="https://www.python.org/" target="_blank" rel="external">Python3.0(及以上)</a></li>
<li><a href="https://www.gnu.org/software/emacs/" target="_blank" rel="external">Emacs24.5</a></li>
<li><a href="https://git-scm.com/" target="_blank" rel="external">Git</a></li>
<li><a href="http://www.gnutls.org/" target="_blank" rel="external">Gnutls</a></li>
</ul>
<h2 id="u5B89_u88C5_u5DE5_u5177"><a href="#u5B89_u88C5_u5DE5_u5177" class="headerlink" title="安装工具"></a>安装工具</h2><h3 id="u5B89_u88C5_Git"><a href="#u5B89_u88C5_Git" class="headerlink" title="安装 Git"></a>安装 Git</h3><p>默认安装，把 bin 文件夹加入系统环境变量 path。</p>
<h3 id="u5B89_u88C5__uFF27nutls"><a href="#u5B89_u88C5__uFF27nutls" class="headerlink" title="安装 Ｇnutls"></a>安装 Ｇnutls</h3><p>默认安装，同样把 bin 文件夹加入系统环境变量 path。</p>
<h3 id="u5B89_u88C5_Python"><a href="#u5B89_u88C5_Python" class="headerlink" title="安装 Python"></a>安装 Python</h3><p>我把 Python 安装在 C 盘根目录下，把 bin 文件夹加入系统环境变量 path（3.0 以上的 Python 有加入的选项，注意勾选）。</p>
<h3 id="u5B89_u88C5_Python__u8F85_u52A9_u5DE5_u5177"><a href="#u5B89_u88C5_Python__u8F85_u52A9_u5DE5_u5177" class="headerlink" title="安装 Python 辅助工具"></a>安装 Python 辅助工具</h3><ul>
<li><p>Setuptools</p>
<p>setuptools 是 Python distutils 增强版的集合，它可以帮助我们更简单的创建和分发 Python 包，尤其是拥有依赖关系的。</p>
</li>
<li><p>ipython</p>
<p>一个增强版的Shell。</p>
</li>
<li><p>pip</p>
<p>安装和管理 Python 包的工具。</p>
</li>
<li><p>virtualenv</p>
</li>
</ul>
<p>一个 python 工具. 它可以创建一个独立的 python 环境. 这样做的好处是你的 python 程序运行在这个环境里, 不受其它的 python library 的版本问题影响。</p>
<h5 id="Setuptools_u3001pip"><a href="#Setuptools_u3001pip" class="headerlink" title="Setuptools、pip"></a>Setuptools、pip</h5><p>3.0 以上版本的 Python，Setuptools、pip 已自带，无需单独安装。</p>
<h5 id="u5B89_u88C5_ipython"><a href="#u5B89_u88C5_ipython" class="headerlink" title="安装 ipython"></a>安装 ipython</h5><ol>
<li><p>下载 IPython 的二进制安装包，地址在<a href="https://github.com/ipython/ipython/downloads" target="_blank" rel="external">这里</a>。注意选择对应的 Python 版本和平台。</p>
</li>
<li><p>因为是 Windows 下的，为了方便起见，直接下载二进制包，双击安装后，IPython 的安装软件会自动选择在注册表中注册的 Python 路径，并进行安装。</p>
</li>
<li><p>将 Python 目录下的 Scripts 目录添加到环境变量中，如..\Python3.x\Scripts 这样的。这样就能够快速在命令行启动 ipython 了。</p>
</li>
<li><p>启动 ipython，你会注意到警告信息，大概的意思是，windows 下没有 readline 模块可用，所以 tab 的自动补全以及 console 的颜色样式是“NoColor“。在<a href="https://pypi.python.org/pypi/pyreadline/2.0" target="_blank" rel="external">这里</a>可以下载到 pyreadline 包。同样，注意安装包对应的平台，安装方式与 IPython 相同。</p>
</li>
</ol>
<p><strong>PS:</strong> 这里我安装的是3.5版本的 Python，readline 还不支持此版本，可以不安装。</p>
<h5 id="u5B89_u88C5_virtualenv"><a href="#u5B89_u88C5_virtualenv" class="headerlink" title="安装 virtualenv"></a>安装 virtualenv</h5><p>打开 Console，进入 Python 安装目录的 Scripts 文件夹，输入以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lenovo@LENOVO-PC C:\Python35-<span class="number">32</span>\Scripts</span><br><span class="line">$ pip install virtualenv==<span class="number">1.11</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>出现以下提示，说明安装成功:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Collecting virtualenv==<span class="number">1.11</span>.<span class="number">1</span></span><br><span class="line">  Using cached virtualenv-<span class="number">1.11</span>.<span class="number">1</span>.tar.gz</span><br><span class="line">Installing collected packages: virtualenv</span><br><span class="line">  Running setup.py install <span class="keyword">for</span> virtualenv</span><br><span class="line">Successfully installed virtualenv-<span class="number">1.11</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>PS:</strong> 安装的时候如果不设定==1.11.1，默认会安装最新版本，而新版本的 virtualenv，在创建环境的时候会失败，用1.11.1版本，没有这个问题，所以我们安装的时候需要明确版本1.11.1。</p>
<p>安装完毕 virtualenv 之后，就可以创建虚拟环境了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lenovo@LENOVO-PC C:\Python35-<span class="number">32</span>\Scripts</span><br><span class="line">$ virtualenv.exe vProject</span><br></pre></td></tr></table></figure>
<p>出现以下提示，说明安装成功:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Using base prefix <span class="string">'c:\\python35-32'</span></span><br><span class="line">New python executable <span class="keyword">in</span> vProject\Scripts\python.exe</span><br><span class="line">Installing setuptools, pip...done.</span><br></pre></td></tr></table></figure>
<h3 id="u5B89_u88C5_Emacs"><a href="#u5B89_u88C5_Emacs" class="headerlink" title="安装 Emacs"></a>安装 Emacs</h3><p>解压即可，一般解压到非系统盘的根目录下。我的是 <code>F:\Emacs</code>。</p>
<h4 id="u914D_u7F6E_Emacs__u7684_Home__u8DEF_u5F84"><a href="#u914D_u7F6E_Emacs__u7684_Home__u8DEF_u5F84" class="headerlink" title="配置 Emacs 的 Home 路径"></a>配置 Emacs 的 Home 路径</h4><p>因为 Ｗindows 没有 Home 目录的概念，所以，Emacs 就按如下方式来查找配置文件：</p>
<ol>
<li><p>如果设置了 Home 环境变量，那么就用它的值作为 home 目录；</p>
</li>
<li><p>如果存在注册表键值 <code>HKCU\SOFTWARE\GNU\Emacs\HOME</code>，就用它的值作为 Home 目录；</p>
</li>
<li><p>如果存在注册表键值 <code>HKLM\SOFTWARE\GNU\Emacs\HOME</code>，就用它的值作为 Home 目录（和2的区别是，2只是针对当前用户的注册表路径，3则是针对所有用户）；</p>
</li>
<li><p>如果存在 <code>C:\.emacs</code>，就用 <code>C:\</code> 作为home目录；</p>
</li>
<li><p>如果以上都不存在的话，就使用 <code>\Users\\AppData\Roaming</code> 作为 Home 目录（对于XP和较早windows用户，需要到 <code>Documents and Settings</code> 目录下去找）。</p>
</li>
</ol>
<p>按方法 1 设置 Home 环境变量后，很多从 Linux 移植到 Win 平台下的软件都会使用这个环境变量，到时这个目录里面就会开杂货铺子，乱哄哄一片。按方法 5，里面更乱。最理想的办法就是注册表面摆一道，操作简单，而且这个目录里包括了 Emacs 所有文件。操作步骤为：</p>
<ol>
<li><p>Win 键 + r 打开运行对话框，输入 regedit，打开注册表；</p>
</li>
<li><p>找到 <code>HKCU\SOFTWARE\GNU\</code>，如果没有 GNU 项，就新建一个；</p>
</li>
<li><p>新建子项 Emacs，在该项下新建字符值 HOME，其数值数据为 <code>F:\Emacs\</code>（这是我的 Emacs 安装路径），导出该项后是这样的：</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\GNU\Emacs]</span><br><span class="line"><span class="string">"Home"</span>=<span class="string">"F:\\Emacs\\"</span></span><br></pre></td></tr></table></figure>
<h4 id="u914D_u7F6E_Emacs__u53CA_u5B89_u88C5_u63D2_u4EF6"><a href="#u914D_u7F6E_Emacs__u53CA_u5B89_u88C5_u63D2_u4EF6" class="headerlink" title="配置 Emacs 及安装插件"></a>配置 Emacs 及安装插件</h4><p>Emacs 中的插件管理我使用的是 ELPA ，所以只要把 .emacs 文件复制到 Emacs 文件夹中，然后启动 Emacs 就自动安装所有插件了。我的 .emacs 配置内容为：</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">custom-set-variables</span></span><br><span class="line"> <span class="comment">;; custom-set-variables was added by Custom.</span></span><br><span class="line"> <span class="comment">;; If you edit it by hand, you could mess it up, so be careful.</span></span><br><span class="line"> <span class="comment">;; Your init file should contain only one such instance.</span></span><br><span class="line"> <span class="comment">;; If there is more than one, they won't work right.</span></span><br><span class="line"> <span class="quoted">'(custom-safe-themes (quote (<span class="string">"26614652a4b3515b4bbbb9828d71e206cc249b67c9142c06239ed3418eff95e2"</span> default)))</span></span><br><span class="line"> <span class="quoted">'(scroll-bar-mode nil)</span></span><br><span class="line"> <span class="quoted">'(tool-bar-mode nil)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">custom-set-faces</span></span><br><span class="line"> <span class="comment">;; custom-set-faces was added by Custom.</span></span><br><span class="line"> <span class="comment">;; If you edit it by hand, you could mess it up, so be careful.</span></span><br><span class="line"> <span class="comment">;; Your init file should contain only one such instance.</span></span><br><span class="line"> <span class="comment">;; If there is more than one, they won't work right.</span></span><br><span class="line"> )</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; ==================== package system,ELPA ==================== &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; Usage -------------------------------------------------+</span></span><br><span class="line"><span class="comment">;;;;                                                        |</span></span><br><span class="line"><span class="comment">;;;; Update the package list，and show it.                  |</span></span><br><span class="line"><span class="comment">;;;; M-x package-list-packages  or list-packages            |</span></span><br><span class="line"><span class="comment">;;;;                                                        |</span></span><br><span class="line"><span class="comment">;;;; Save the package list in local.                        |</span></span><br><span class="line"><span class="comment">;;;; M-x package-refresh-contents                           |</span></span><br><span class="line"><span class="comment">;;;;                                                        |</span></span><br><span class="line"><span class="comment">;;;; Read the local package list.                           |</span></span><br><span class="line"><span class="comment">;;;; package-list-packages-no-fetch                         |</span></span><br><span class="line"><span class="comment">;;;;                                                        |</span></span><br><span class="line"><span class="comment">;;;; Search the package list.                               |</span></span><br><span class="line"><span class="comment">;;;; 'C-s' or 'C-r'                                         |</span></span><br><span class="line"><span class="comment">;;;;                                                        |</span></span><br><span class="line"><span class="comment">;;;; Mark to install: 'i'; Mark to uninstall: 'd'.          |</span></span><br><span class="line"><span class="comment">;;;; Execute the mark: 'x'; Cancel the mark: 'u'.           |</span></span><br><span class="line"><span class="comment">;;;;                                                        |</span></span><br><span class="line"><span class="comment">;;;; Install a package.                                     |</span></span><br><span class="line"><span class="comment">;;;; M-x package-install RET                                |</span></span><br><span class="line"><span class="comment">;;;; xxxxx (name of package) RET                            |</span></span><br><span class="line"><span class="comment">;;;;                                                        |</span></span><br><span class="line"><span class="comment">;;;; Update all packages.                                   |</span></span><br><span class="line"><span class="comment">;;;; M-x package-refresh-contents（first update list）     |</span></span><br><span class="line"><span class="comment">;;;; M-x package-menu-mark-upgrades                         |</span></span><br><span class="line"><span class="comment">;;;;                                                        |</span></span><br><span class="line"><span class="comment">;;;; -------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'cl</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'package</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'package-archives</span> <span class="quoted">'(<span class="string">"marmalade"</span> . <span class="string">"http://marmalade-repo.org/packages/"</span>)</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> package-archives <span class="quoted">'((<span class="string">"gnu"</span> . <span class="string">"http://elpa.gnu.org/packages/"</span>)</span><br><span class="line">                         (<span class="string">"marmalade"</span> . <span class="string">"http://marmalade-repo.org/packages/"</span>)</span><br><span class="line">                         (<span class="string">"melpa"</span> . <span class="string">"http://melpa.milkbox.net/packages/"</span>))</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">package-initialize</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- 更新包后，自动更新加载路径 --------------- &gt;</span></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> package-update-load-path <span class="list">()</span></span><br><span class="line">  <span class="string">"Update the load path for newly installed packages."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">package-dir</span> <span class="list">(<span class="keyword">expand-file-name</span> package-user-dir)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">mapc</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">(<span class="keyword">pkg</span>)</span></span><br><span class="line">            <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">stem</span> <span class="list">(<span class="keyword">symbol-name</span> <span class="list">(<span class="keyword">car</span> pkg)</span>)</span>)</span></span><br><span class="line">		  <span class="list">(<span class="keyword">version</span> <span class="string">""</span>)</span></span><br><span class="line">		  <span class="list">(<span class="keyword">first</span> <span class="literal">t</span>)</span></span><br><span class="line">		  path)</span></span><br><span class="line">	      <span class="list">(<span class="keyword">mapc</span> <span class="list">(<span class="keyword">lambda</span> <span class="list">(<span class="keyword">num</span>)</span></span><br><span class="line">		      <span class="list">(<span class="keyword">if</span> first</span><br><span class="line">			  <span class="list">(<span class="keyword">setq</span> first <span class="literal">nil</span>)</span></span><br><span class="line">			  <span class="list">(<span class="keyword">setq</span> version <span class="list">(<span class="keyword">format</span> <span class="string">"%s."</span> version)</span>)</span>)</span></span><br><span class="line">		      <span class="list">(<span class="keyword">setq</span> version <span class="list">(<span class="keyword">format</span> <span class="string">"%s%s"</span> version num)</span>)</span>)</span></span><br><span class="line">		    <span class="list">(<span class="keyword">aref</span> <span class="list">(<span class="keyword">cdr</span> pkg)</span> <span class="number">0</span>)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">setq</span> path <span class="list">(<span class="keyword">format</span> <span class="string">"%s/%s-%s"</span> package-dir stem version)</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'load-path</span> path)</span>)</span>)</span></span><br><span class="line">          package-alist)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; ==================== auto installed package ==================== &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; evil &gt;&gt;----------------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; Evil is an extensible vi layer for Emacs.               |</span></span><br><span class="line"><span class="comment">;;;; It emulates the main features of Vim,                   |</span></span><br><span class="line"><span class="comment">;;;; and provides facilities for writing custom extensions.  |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; autopair &gt;&gt;------------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; It can be useful to insert parentheses, braces, quotes  |</span></span><br><span class="line"><span class="comment">;;;; and the like in matching pairs - e.g.,                  |</span></span><br><span class="line"><span class="comment">;;;; pressing "(" inserts '()', with the cursor in between.  |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; pangu-spacing &gt;&gt;-------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; pangu-spacing-mode is an minor-mode to auto add space   |</span></span><br><span class="line"><span class="comment">;;;; between Chinese and English characters.                 |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; jedi &gt;&gt;----------------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; Jedi.el is a Python auto-completion package for Emacs.  |</span></span><br><span class="line"><span class="comment">;;;; It aims at helping your Python coding in a non-destruc- |</span></span><br><span class="line"><span class="comment">;;;; tive way. It also helps you to find information about   |</span></span><br><span class="line"><span class="comment">;;;; Python objects, such as docstring, function arguments   |</span></span><br><span class="line"><span class="comment">;;;; and code location.                                      |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; neotree &gt;&gt;-------------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; A Emacs tree plugin like NerdTree for Vim.              |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; color-theme &gt;&gt;---------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; EmacsLisp library color-theme.el provides many prede-   |</span></span><br><span class="line"><span class="comment">;;;; fined color themes for your use, and you can easily     |</span></span><br><span class="line"><span class="comment">;;;; define additional themes.                               |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; auto-complete &gt;&gt;-------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; This extension provides a way to complete with popup    |</span></span><br><span class="line"><span class="comment">;;;; menu like:                                              |</span></span><br><span class="line"><span class="comment">;;;;                                                         |</span></span><br><span class="line"><span class="comment">;;;;     def-!-                                              |</span></span><br><span class="line"><span class="comment">;;;;     +-----------------+                                 |</span></span><br><span class="line"><span class="comment">;;;;     |defun::::::::::::|                                 |</span></span><br><span class="line"><span class="comment">;;;;     |defvar           |                                 |</span></span><br><span class="line"><span class="comment">;;;;     |defmacro         |                                 |</span></span><br><span class="line"><span class="comment">;;;;     |       ...       |                                 |</span></span><br><span class="line"><span class="comment">;;;;     +-----------------+                                 |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; yasnippet &gt;&gt;-----------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; YASnippet is a template system for Emacs. It allows you |</span></span><br><span class="line"><span class="comment">;;;; to type an abbreviation and automatically expand it in- |</span></span><br><span class="line"><span class="comment">;;;; to function templates.                                  |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; markdown-mode &gt;&gt;-------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; markdown-mode is a major mode for GNU Emacs which pro-  |</span></span><br><span class="line"><span class="comment">;;;; vides syntax highlighting and supporting commands for   |</span></span><br><span class="line"><span class="comment">;;;; editing Markdown files.                                 |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; flycheck &gt;&gt;------------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; Flycheck is a modern on-the-fly syntax checking exten-  |</span></span><br><span class="line"><span class="comment">;;;; sion for GNU Emacs 24, intended as replacement for the  |</span></span><br><span class="line"><span class="comment">;;;; older Flymake extension which is part of GNU Emacs.     |</span></span><br><span class="line"><span class="comment">;;;; Before use flycheck, Must install pylint like:          |</span></span><br><span class="line"><span class="comment">;;;;                                                         |</span></span><br><span class="line"><span class="comment">;;;; &gt; sudo pip install pylint                               |</span></span><br><span class="line"><span class="comment">;;;;                                                         |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt;&lt; switch-window &gt;&gt;-------------------------------------+</span></span><br><span class="line"><span class="comment">;;;; Just switch window! 'C-x o', and press the number.      |</span></span><br><span class="line"><span class="comment">;;;; --------------------------------------------------------+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'evil</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'evil</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'autopair</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'autopair</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'pangu-spacing</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'pangu-spacing</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'jedi</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'jedi</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'neotree</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'neotree</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'color-theme</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'color-theme</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'auto-complete</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'auto-complete</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'yasnippet</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'yasnippet</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'markdown-mode</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'markdown-mode</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'flycheck</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'flycheck</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">not</span> <span class="list">(<span class="keyword">package-installed-p</span> <span class="quoted">'switch-window</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-refresh-contents</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">package-install</span> <span class="quoted">'switch-window</span>)</span>)</span></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; ==================== 非内嵌包配置 ==================== &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- evil --------------- &gt;</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'evil</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">evil-mode</span> <span class="number">1</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">provide</span> <span class="quoted">'init-evil</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- autopair --------------- &gt;</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'autopair</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">autopair-global-mode</span> <span class="number">1</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- auto-complete --------------- &gt;</span></span><br><span class="line"><span class="comment">;;;; 貌似 auto-complete 配置需放置到 jedi 前面</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'auto-complete-config</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">ac-config-default</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">define-key</span> ac-completing-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-n"</span>)</span> <span class="quoted">'ac-next</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">define-key</span> ac-completing-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-p"</span>)</span> <span class="quoted">'ac-previous</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- jedi --------------- &gt;</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'python-mode-hook</span> <span class="quoted">'jedi</span><span class="keyword">:setup</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> jedi<span class="keyword">:setup-keys</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> jedi<span class="keyword">:complete-on-dot</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">when</span> <span class="list">(<span class="keyword">fboundp</span> <span class="quoted">'jedi</span><span class="keyword">:setup</span>)</span> <span class="list">(<span class="keyword">jedi</span><span class="keyword">:setup</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- neotree --------------- &gt;</span></span><br><span class="line"><span class="comment">;;;; if install evil, must write the following lines in .emacs.</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'neotree</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> [f8] <span class="quoted">'neotree-toggle</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'neotree-mode-hook</span></span><br><span class="line">            <span class="list">(<span class="keyword">lambda</span> <span class="list">()</span></span><br><span class="line">              <span class="list">(<span class="keyword">define-key</span> evil-normal-state-local-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"TAB"</span>)</span> <span class="quoted">'neotree-enter</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">define-key</span> evil-normal-state-local-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"SPC"</span>)</span> <span class="quoted">'neotree-enter</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">define-key</span> evil-normal-state-local-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"q"</span>)</span> <span class="quoted">'neotree-hide</span>)</span></span><br><span class="line">              <span class="list">(<span class="keyword">define-key</span> evil-normal-state-local-map <span class="list">(<span class="keyword">kbd</span> <span class="string">"RET"</span>)</span> <span class="quoted">'neotree-enter</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- color-theme --------------- &gt;</span></span><br><span class="line"><span class="comment">;;;; 如果加载 theme 失败，更换正确路径后，去掉下面代码前面注释符。</span></span><br><span class="line"><span class="comment">;;;; (add-to-list 'custom-theme-load-path "~/.emacs.d/elpa/color-theme-20080305.34")</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'color-theme</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">color-theme-initialize</span>)</span></span><br><span class="line"><span class="comment">;;;; If color-theme doesn’t seem to work, try adding one more line.</span></span><br><span class="line"><span class="comment">;;;; (setq color-theme-is-global t)</span></span><br><span class="line"><span class="list">(<span class="keyword">color-theme-subtle-hacker</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- yasnippet --------------- &gt;</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'yasnippet</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">yas-global-mode</span> <span class="number">1</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- markdown-mode --------------- &gt;</span></span><br><span class="line"><span class="comment">;;;; 识别 .markdown .md 扩展名的文件</span></span><br><span class="line"><span class="list">(<span class="keyword">autoload</span> <span class="quoted">'markdown-mode</span> <span class="string">"markdown-mode"</span></span><br><span class="line">    <span class="string">"Major mode for editing Markdown files"</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'auto-mode-alist</span> <span class="quoted">'(<span class="string">"\\.markdown\\'"</span>. markdown-mode)</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">add-to-list</span> <span class="quoted">'auto-mode-alist</span> <span class="quoted">'(<span class="string">"\\.md\\'"</span>. markdown-mode)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- pangu-spacing --------------&gt;</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'pangu-spacing</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-pangu-spacing-mode</span> <span class="number">1</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> pangu-spacing-real-insert-separtor <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- flycheck ---------------&gt;</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'after-init-hook</span> <span class="quoted">#'global-flycheck-mode</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; --------------- switch-window --------------- &gt;</span></span><br><span class="line"><span class="comment">;;;;Rebind zC-x o key:</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-x o"</span>)</span> <span class="quoted">'switch-window</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'switch-window</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; ==================== 内嵌包配置 ==================== &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 把这几行加入 .emacs 就可以把 C-x C-b 那个普通的 buffer menu</span></span><br><span class="line"><span class="comment">;;;; 换成非常方便的 ibuffer。</span></span><br><span class="line"><span class="list">(<span class="keyword">require</span> <span class="quoted">'ibuffer</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span> <span class="string">"C-x C-b"</span>)</span> <span class="quoted">'ibuffer</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 打开 iswitchb 模式，C-x b 快捷键后，</span></span><br><span class="line"><span class="comment">;;;; 所有 buffer 名字排列在 minibuffer,</span></span><br><span class="line"><span class="list">(<span class="keyword">iswitchb-mode</span> <span class="number">1</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; ido 的配置,用 C-x C-f 打开文件时会有提示;</span></span><br><span class="line"><span class="list">(<span class="keyword">ido-mode</span> <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; eshell 清屏命令 cls</span></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> eshell/cls<span class="list">()</span></span><br><span class="line"><span class="comment">;  "to clear the eshell buffer."</span></span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">inhibit-read-only</span> <span class="literal">t</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">erase-buffer</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; ==================== GUI ==================== &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 若要将注释改为斜体，可采用以下代码：</span></span><br><span class="line"><span class="list">(<span class="keyword">make-face-italic</span> <span class="quoted">'font-lock-comment-face</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; Setting English Font(设置英文字体）</span></span><br><span class="line"><span class="list">(<span class="keyword">set-face-attribute</span></span><br><span class="line">  <span class="quoted">'default</span> <span class="literal">nil</span> <span class="keyword">:font</span> <span class="string">"Yahei Consolas Hybrid 14"</span>)</span></span><br><span class="line"><span class="comment">;; Chinese Font(设置中文字体)</span></span><br><span class="line"><span class="list">(<span class="keyword">dolist</span> <span class="list">(<span class="keyword">charset</span> <span class="quoted">'(kana han symbol cjk-misc bopomofo)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">set-fontset-font</span> <span class="list">(<span class="keyword">frame-parameter</span> <span class="literal">nil</span> <span class="quoted">'font</span>)</span></span><br><span class="line">                      charset</span><br><span class="line">                      <span class="list">(<span class="keyword">font-spec</span> <span class="keyword">:family</span> <span class="string">"微软雅黑"</span> <span class="keyword">:size</span> <span class="number">14</span>)</span>)</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 全局显示行号</span></span><br><span class="line"><span class="list">(<span class="keyword">global-linum-mode</span> <span class="number">1</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 设置标题栏显示文件完整路径名</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> frame-title-format</span><br><span class="line">  <span class="quoted">'(<span class="string">"&lt; GNU Emacs &gt;  SWBeta is modifying...  %S"</span> (buffer-file-name <span class="string">"%f"</span></span><br><span class="line">   (dired-directory dired-directory <span class="string">"%b"</span>)))</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 默认显示 80 列换行</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> default-fill-column <span class="number">80</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 时间使用 24 小时制</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> display-time-24hr-format <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 时间显示包括日期和时间</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> display-time-day-and-date <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 显示时间的格式</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> display-time-format <span class="string">"%m 月%d 日%A%H:%M"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 60 秒更新一次时间</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> display-time-interval <span class="number">60</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 显示时间，最后写这句，</span></span><br><span class="line"><span class="comment">;;;; 否则 emacs 会先显示默认时间格式，然后显示自定义格式</span></span><br><span class="line"><span class="list">(<span class="keyword">display-time</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 显示光标当前所在的行号和列号</span></span><br><span class="line"><span class="list">(<span class="keyword">column-number-mode</span> <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 高亮当前行并设置背景色（没找到合适对比色，高亮无意义）</span></span><br><span class="line"><span class="comment">;;;;(global-hl-line-mode t)</span></span><br><span class="line"><span class="comment">;;;; 设置高亮行的背景颜色</span></span><br><span class="line"><span class="comment">;;;;(set-face-background hl-line-face "#F08080")</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 不显示工具栏</span></span><br><span class="line"><span class="comment">;;;;(tool-bar-mode -1)</span></span><br><span class="line"><span class="comment">;;;; 不显示滚动条</span></span><br><span class="line"><span class="comment">;;;;(scroll-bar-mode 0)</span></span><br><span class="line"><span class="comment">;;;; 以上 2 行设置，最好在位于 .emacs 最开始</span></span><br><span class="line"><span class="comment">;;;; 否则，工具栏、scrollbar 会闪现。</span></span><br><span class="line"><span class="comment">;;;; 已通过 menu 设为 Emacs 默认，这里注释掉</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 启动 Emacs 后，指定窗口(frame)大小</span></span><br><span class="line"><span class="comment">;;;; arrange-frame (w h x y) 函数的w h x y分别是frame的宽、高、左上角x坐标</span></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> arrange-frame <span class="list">(<span class="keyword">w</span> h x y)</span></span><br><span class="line">  <span class="string">"Set the width, height, and x/y position of the current frame"</span></span><br><span class="line">  <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">frame</span> <span class="list">(<span class="keyword">selected-frame</span>)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">delete-other-windows</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">set-frame-position</span> frame x y)</span></span><br><span class="line">    <span class="list">(<span class="keyword">set-frame-size</span> frame w h)</span>)</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">arrange-frame</span> <span class="number">120</span> <span class="number">30</span> <span class="number">100</span> <span class="number">50</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 设置函数，Ctr+x Ctr+a 最大化窗口，Ctr+x a 最小化窗口	</span></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> emacs-maximize <span class="list">()</span>    </span><br><span class="line">  <span class="string">"Maximize emacs window in windows os"</span>    </span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span>    </span><br><span class="line">  <span class="list">(<span class="keyword">w32-send-sys-command</span> <span class="number">61488</span>)</span>)</span>        <span class="comment">; WM_SYSCOMMAND #xf030 maximize    </span></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> emacs-minimize <span class="list">()</span>    </span><br><span class="line">  <span class="string">"Minimize emacs window in windows os"</span>    </span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span>    </span><br><span class="line">  <span class="list">(<span class="keyword">w32-send-sys-command</span> <span class="number">#xf020</span>)</span>)</span>    <span class="comment">; #xf020 minimize    </span></span><br><span class="line"><span class="list">(<span class="keyword">defun</span> emacs-normal <span class="list">()</span>    </span><br><span class="line">  <span class="string">"Normal emacs window in windows os"</span>    </span><br><span class="line">  <span class="list">(<span class="keyword">interactive</span>)</span>    </span><br><span class="line">  <span class="list">(<span class="keyword">w32-send-sys-command</span> <span class="number">#xf120</span>)</span>)</span>    <span class="comment">; #xf120 normalimize    </span></span><br><span class="line"><span class="comment">;; (emacs-maximize)    </span></span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span>  <span class="string">"C-x C-a"</span>)</span> <span class="quoted">'emacs-maximize</span>)</span>  </span><br><span class="line"><span class="list">(<span class="keyword">global-set-key</span> <span class="list">(<span class="keyword">kbd</span>  <span class="string">"C-x a"</span>)</span> <span class="quoted">'emacs-minimize</span>)</span>  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; ==================== 功能类 ==================== &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 设置 Emacs 默认工作目录</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> command-line-default-directory <span class="string">"F:\code"</span> )</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 括号匹配时显示另外一边的括号，而不是跳到另一个括号</span></span><br><span class="line"><span class="list">(<span class="keyword">show-paren-mode</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> show-paren-style <span class="quoted">'parentheses</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 不生成备份文件</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> make-backup-files <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;;不生成#F#文件</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> auto-save-default <span class="literal">nil</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 光标靠近鼠标指针时，鼠标指针自动避让。</span></span><br><span class="line"><span class="list">(<span class="keyword">mouse-avoidance-mode</span> <span class="quoted">'animate</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 消除 ring-bell 的效果。</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> ring-bell-function <span class="quoted">'ignore</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 关出错时的提示声</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> visible-bell <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 改变 Emacs 要求回答 yes 的行为。按 y 或空格键表示 yes，n 表示 no。</span></span><br><span class="line"><span class="list">(<span class="keyword">fset</span> <span class="quoted">'yes-or-no-p</span> <span class="quoted">'y-or-n-p</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 较大的 kill ring</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> kill-ring-max <span class="number">200</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 支持 emacs 和外部程序的粘贴</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> x-select-enable-clipboard <span class="literal">t</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 用 M-x 执行某个命令的时候，在输入的同时给出可选的命令名提示</span></span><br><span class="line"><span class="list">(<span class="keyword">icomplete-mode</span> <span class="number">1</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 页面平滑滚动，scroll-margin 3 靠近屏幕边沿 3 行时开始滚动，可以很好的看到上下文。</span></span><br><span class="line"><span class="list">(<span class="keyword">setq</span> scroll-margin <span class="number">3</span></span><br><span class="line">  scroll-conservatively <span class="number">10000</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; &lt; ==================== 语言类 ==================== &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; 只渲染当前屏幕语法高亮，加快显示速度</span></span><br><span class="line"><span class="comment">;;;;(setq font-lock-maximum-decoration t)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;;;; delete trailing space，保存时删除行尾空白，python 对空格敏感</span></span><br><span class="line"><span class="list">(<span class="keyword">add-hook</span> <span class="quoted">'before-save-hook</span> <span class="quoted">'delete-trailing-whitespace</span>)</span></span><br></pre></td></tr></table></figure>
<h4 id="u5B89_u88C5_jedi_server"><a href="#u5B89_u88C5_jedi_server" class="headerlink" title="安装 jedi server"></a>安装 jedi server</h4><p>因为 jedi 依赖 Python 的 virtualenv，所以 ELPA 是无法完成这个任务。这里需要手动安装 jedi server。</p>
<ol>
<li><p>打开 Emacs</p>
</li>
<li><p>M-x，输入 <code>jedi:install-server</code> 回车</p>
</li>
<li><p>minibuffer 里出现 done，就 OK 了。<br>　<br>　<br>　<br>　<br>一个基础的 Win 平台下 Python + Emacs 编程环境就成形了。</p>
</li>
</ol>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
			
		
	
		
			
			
		
	
		
	
		
	
	
	
		<li class="prev"><a href="/2016/06/06/Emacs快捷键列表/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next disabled"><a>next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2016 SWBeta
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-wixo/">Wixo</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
